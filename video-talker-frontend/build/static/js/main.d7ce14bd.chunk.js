(this["webpackJsonpvideo-talker-frontend"]=this["webpackJsonpvideo-talker-frontend"]||[]).push([[0],{111:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){},118:function(e,t,n){},119:function(e,t,n){},137:function(e,t,n){},138:function(e,t,n){},142:function(e,t,n){},143:function(e,t,n){"use strict";n.r(t);var a,c,r,o,i,l,s,u,d=n(1),b=n.n(d),j=n(31),f=n.n(j),m=n(5),g=n(25),p=n(2),h="DASHBOARD.SET_USERNAME",O="DASHBOARD.SET_ACTIVE_USERS",v="DASHBOARD.SET_GROUP_CALL_ROOMS",_={username:"",activeUsers:[],groupCallRooms:[]},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(p.a)(Object(p.a)({},e),{},{username:t.username});case O:return Object(p.a)(Object(p.a)({},e),{},{activeUsers:t.activeUsers});case v:return Object(p.a)(Object(p.a)({},e),{},{groupCallRooms:t.groupCallRooms});default:return e}},S="CALL_AVAILABLE",C="CALL_REQUESTED",E="CALL_IN_PROGRESS",k="CALL.SET_LOCAL_STREAM",A="CALL.SET_CALL_STATE",y="CALL.SET_CALLING_DIALOG_VISIBLE",L="CALL.SET_CALLER_USERNAME",T="CALL.SET_CALL_REJECTED",R="CALL.SET_REMOTE_STREAM",w="CALL.SET_LOCAL_MICROPHONE_ENABLED",N="CALL.SET_LOCAL_CAMERA_ENABLED",I="CALL.SET_SCREEN_SHARING_ACTIVE",D="CALL.RESET_CALL_STATE",U="CALL.CALL_SET_GROUP_CALL_ACTIVE",M="CALL.SET_GROUP_CALL_STREAMS",V="CALL.CLEAR_GROUP_CALL_DATA",P="CALL.SET_CHAT_MESSAGE",H=function(e){return{type:A,callState:e}},B=function(e){return{type:y,visible:e}},G=function(e){return{type:T,callRejected:{rejected:e.rejected,reason:e.reason}}},F=function(e){return{type:w,enabled:e}},J=function(e){return{type:N,enabled:e}},q=function(e){return{type:I,active:e}},W=function(e){return{type:U,active:e}},K=function(e){return{type:M,groupCallStreams:e}},Q=function(e,t){return{type:P,message:{received:e,content:t}}},Y={localStream:null,callState:"CALL_UNAVAILABLE",callingDialogVisible:!1,callerUsername:"",callRejected:{rejected:!1,reason:""},remoteStream:null,localCameraEnabled:!0,localMicrophoneEnabled:!0,screenSharingActive:!1,groupCallActive:!1,groupCallStreams:[],message:{received:!1,content:""}},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(p.a)(Object(p.a)({},e),{},{localStream:t.localStream});case A:return Object(p.a)(Object(p.a)({},e),{},{callState:t.callState});case y:return Object(p.a)(Object(p.a)({},e),{},{callingDialogVisible:t.visible});case L:return Object(p.a)(Object(p.a)({},e),{},{callerUsername:t.callerUsername});case T:return Object(p.a)(Object(p.a)({},e),{},{callRejected:t.callRejected});case R:return Object(p.a)(Object(p.a)({},e),{},{remoteStream:t.remoteStream});case N:return Object(p.a)(Object(p.a)({},e),{},{localCameraEnabled:t.enabled});case w:return Object(p.a)(Object(p.a)({},e),{},{localMicrophoneEnabled:t.enabled});case I:return Object(p.a)(Object(p.a)({},e),{},{screenSharingActive:t.active});case D:return Object(p.a)(Object(p.a)({},e),{},{remoteStream:null,screenSharingActive:!1,callerUsername:"",localMicrophoneEnabled:!0,localCameraEnabled:!0,callingDialogVisible:!1});case U:return Object(p.a)(Object(p.a)({},e),{},{groupCallActive:t.active});case M:return Object(p.a)(Object(p.a)({},e),{},{groupCallStreams:t.groupCallStreams});case V:return Object(p.a)(Object(p.a)({},e),{},{groupCallActive:!1,groupCallStreams:[],callState:S,localMicrophoneEnabled:!0,localCameraEnabled:!0});case P:return Object(p.a)(Object(p.a)({},e),{},{message:t.message});default:return e}},X=Object(g.combineReducers)({dashboard:x,call:z}),Z=n(66),$=Object(g.createStore)(X,Object(Z.composeWithDevTools)()),ee=(n(79),n(37)),te=n(4),ne=n(67),ae=n.n(ne),ce=n(11),re=n.n(ce),oe=n(22),ie=n(21),le=n(68),se=n(28),ue=[],de=function(){return ue},be="CALL_ACCEPTED",je="CALL_REJECTED",fe="CALL_NOT_AVAILABLE",me={video:{width:480,height:360},audio:!0},ge=function(){navigator.mediaDevices.getUserMedia(me).then((function(e){$.dispatch({type:k,localStream:e}),$.dispatch(H(S)),pe()})).catch((function(e){console.log("error occured when trying to get an access to get local stream"),console.log(e)}))},pe=function(){var e=de(),t={iceServers:[].concat(Object(se.a)(e),[{urls:"stun:stun.l.google.com:13902"}]),iceTransportPolicy:"relay"};c=new RTCPeerConnection(t);var n,o=$.getState().call.localStream,i=Object(le.a)(o.getTracks());try{for(i.s();!(n=i.n()).done;){var l=n.value;c.addTrack(l,o)}}catch(s){i.e(s)}finally{i.f()}c.ontrack=function(e){var t=Object(ie.a)(e.streams,1)[0];$.dispatch({type:R,remoteStream:t})},c.ondatachannel=function(e){var t=e.channel;t.onopen=function(){console.log("peer connection is ready to recieve data channel messages")},t.onmessage=function(e){$.dispatch(Q(!0,e.data))}},(r=c.createDataChannel("chat")).onopen=function(){console.log("chat data channel successfully opened")},c.onicecandidate=function(e){console.log("geeting candidates from stun server"),e.candidate&&Pe({candidate:e.candidate,connectedUserSocketId:a})},c.onconnectionstatechange=function(e){"connected"===c.connectionState&&console.log("succesfully connected with other peer")}},he=function(e){var t;Se()?(a=e.callerSocketId,$.dispatch((t=e.callerUsername,{type:L,callerUsername:t})),$.dispatch(H(C))):Ue({callerSocketId:e.callerSocketId,answer:fe})},Oe=function(){var e=Object(oe.a)(re.a.mark((function e(){var t;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.createOffer();case 2:return t=e.sent,e.next=5,c.setLocalDescription(t);case 5:Me({calleeSocketId:a,offer:t});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=Object(oe.a)(re.a.mark((function e(t){var n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.setRemoteDescription(t.offer);case 2:return e.next=4,c.createAnswer();case 4:return n=e.sent,e.next=7,c.setLocalDescription(n);case 7:Ve({callerSocketId:a,answer:n});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_e=function(){var e=Object(oe.a)(re.a.mark((function e(t){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.setRemoteDescription(t.answer);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(oe.a)(re.a.mark((function e(t){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("adding ice candidates"),e.next=4,c.addIceCandidate(t.candidate);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("error occured when trying to add received ice candidate",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Se=function(){return null!==$.getState().call.localStream&&$.getState().call.callState===S},Ce=function(){var e=Object(oe.a)(re.a.mark((function e(){var t,n,a;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($.getState().call.screenSharingActive){e.next=16;break}return e.prev=1,e.next=4,navigator.mediaDevices.getDisplayMedia({video:!0});case 4:o=e.sent,$.dispatch(q(!0)),t=c.getSenders(),t.find((function(e){return e.track.kind==o.getVideoTracks()[0].kind})).replaceTrack(o.getVideoTracks()[0]),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error("error occured when trying to get screen sharing stream",e.t0);case 14:e.next=22;break;case 16:n=$.getState().call.localStream,a=c.getSenders(),a.find((function(e){return e.track.kind==n.getVideoTracks()[0].kind})).replaceTrack(n.getVideoTracks()[0]),$.dispatch(q(!1)),o.getTracks().forEach((function(e){return e.stop()}));case 22:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),Ee=function(){He({connectedUserSocketId:a}),ke()},ke=function(){c.close(),c=null,pe(),Ae();var e=$.getState().call.localStream;e.getVideoTracks()[0].enabled=!0,e.getAudioTracks()[0].enabled=!0,$.getState().call.screenSharingActive&&o.getTracks().forEach((function(e){e.stop()})),$.dispatch({type:D})},Ae=function(){a=null,$.dispatch(H(S))},ye=!1,Le=function(){(i=new window.Peer(void 0,{config:{iceServers:[].concat(Object(se.a)(de()),[{urls:"stun:stun.l.google.com:13902"}])}})).on("open",(function(e){console.log("succesfully connected with peer server"),l=e})),i.on("call",(function(e){e.answer($.getState().call.localStream),e.on("stream",(function(e){$.getState().call.groupCallStreams.find((function(t){return t.id===e.id}))||Re(e)}))}))},Te=function(){s=null,ye=null,$.dispatch({type:V}),i.destroy(),Le();var e=$.getState().call.localStream;e.getVideoTracks()[0].enabled=!0,e.getAudioTracks()[0].enabled=!0},Re=function(e){var t=[].concat(Object(se.a)($.getState().call.groupCallStreams),[e]);$.dispatch(K(t))},we="ACTIVE_USERS",Ne="GROUP_CALL_ROOMS",Ie=function(){(u=ae()("https://videotalkerserver.herokuapp.com/")).on("connection",(function(){console.log("succesfully connected with wss server"),console.log(u.id)})),u.on("broadcast",(function(e){qe(e)})),u.on("pre-offer",(function(e){he(e)})),u.on("pre-offer-answer",(function(e){!function(e){var t;$.dispatch(B(!1)),e.answer===be?Oe():(t=e.answer===fe?"Callee is not able to pick up the call right now":"Call rejected by the callee",$.dispatch(G({rejected:!0,reason:t})),Ae())}(e)})),u.on("webRTC-offer",(function(e){ve(e)})),u.on("webRTC-answer",(function(e){_e(e)})),u.on("webRTC-candidate",(function(e){xe(e)})),u.on("user-hanged-up",(function(){ke()})),u.on("group-call-join-request",(function(e){!function(e){var t=$.getState().call.localStream;i.call(e.peerId,t).on("stream",(function(e){$.getState().call.groupCallStreams.find((function(t){return t.id===e.id}))||Re(e)}))}(e)})),u.on("group-call-user-left",(function(e){!function(e){var t=$.getState().call.groupCallStreams.filter((function(t){return t.id!==e.streamId}));$.dispatch(K(t))}(e)}))},De=function(e){u.emit("pre-offer",e)},Ue=function(e){u.emit("pre-offer-answer",e)},Me=function(e){u.emit("webRTC-offer",e)},Ve=function(e){u.emit("webRTC-answer",e)},Pe=function(e){u.emit("webRTC-candidate",e)},He=function(e){u.emit("user-hanged-up",e)},Be=function(e){u.emit("group-call-register",e)},Ge=function(e){u.emit("group-call-join-request",e)},Fe=function(e){u.emit("group-call-user-left",e)},Je=function(e){u.emit("group-call-closed-by-host",e)},qe=function(e){switch(e.event){case we:var t=e.activeUsers.filter((function(e){return e.socketId!==u.id}));$.dispatch(function(e){return{type:O,activeUsers:e}}(t));break;case Ne:var n=e.groupCallRooms.filter((function(e){return e.socketId!==u.id})),a=!!$.getState().call.groupCallActive&&s;if(a)n.find((function(e){return e.roomId===a}))||Te();$.dispatch(function(e){return{type:v,groupCallRooms:e}}(n))}},We=n.p+"static/media/logo.d549b294.png",Ke=n.p+"static/media/userAvatar.a6143582.png",Qe=n(0),Ye=function(e){var t=e.activeUser,n=e.callState;return Object(Qe.jsxs)("div",{className:"active_user_list_item",onClick:function(){var e;n===S&&(a=(e=t).socketId,$.dispatch(H(E)),$.dispatch(B(!0)),De({callee:e,caller:{username:$.getState().dashboard.username}}))},children:[Object(Qe.jsx)("div",{className:"active_user_list_image_container",children:Object(Qe.jsx)("img",{className:"active_user_list_image",src:Ke})}),Object(Qe.jsx)("span",{className:"active_user_list_text",children:t.username})]})},ze=(n(111),Object(m.b)((function(e){var t=e.dashboard,n=e.call;return Object(p.a)(Object(p.a)({},t),n)}))((function(e){var t=e.activeUsers,n=e.callState;return Object(Qe.jsx)("div",{className:"active_user_list_container",children:t.map((function(e){return Object(Qe.jsx)(Ye,{activeUser:e,callState:n},e.socketId)}))})}))),Xe={videoContainer:{width:"150px",height:"150px",borderRadius:"8px",position:"absolute",top:"5%",right:"23%"},videoElement:{width:"100%",height:"100%"}},Ze=function(e){var t=e.localStream,n=Object(d.useRef)();return Object(d.useEffect)((function(){if(t){var e=n.current;e.srcObject=t,e.onloadedmetadata=function(){e.play()}}}),[t]),Object(Qe.jsx)("div",{style:Xe.videoContainer,className:"background_secondary_color",children:Object(Qe.jsx)("video",{style:Xe.videoElement,ref:n,autoPlay:!0,muted:!0})})},$e={videoContainer:{width:"100%",height:"100%"},videoElement:{width:"100%",height:"100%"}},et=function(e){var t=e.remoteStream,n=Object(d.useRef)();return Object(d.useEffect)((function(){if(t){var e=n.current;e.srcObject=t,e.onloadedmetadata=function(){e.play()}}}),[t]),Object(Qe.jsx)("div",{style:$e.videoContainer,children:Object(Qe.jsx)("video",{style:$e.videoElement,ref:n,autoPlay:!0})})},tt=(n(112),function(e){var t=e.reason,n=e.hideCallRejectedDialog;return Object(d.useEffect)((function(){setTimeout((function(){n({rejected:!1,reason:""})}),[4e3])}),[]),Object(Qe.jsx)("div",{className:"call_rejected_dialog background_secondary_color",children:Object(Qe.jsx)("span",{children:t})})}),nt=(n(113),function(e){var t=e.callerUsername;return Object(Qe.jsxs)("div",{className:"direct_call_dialog background_secondary_color",children:[Object(Qe.jsx)("span",{className:"direct_call_dialog_caller_name",children:t}),Object(Qe.jsxs)("div",{className:"direct_call_dialog_button_container",children:[Object(Qe.jsx)("button",{className:"direct_call_dialog_accept_button",onClick:function(){Ue({callerSocketId:a,answer:be}),$.dispatch(H(E))},children:"Accept"}),Object(Qe.jsx)("button",{className:"direct_call_dialog_reject_button",onClick:function(){Ue({callerSocketId:a,answer:je}),Ae()},children:"Reject"})]})]})}),at=(n(114),n(17)),ct={buttonContainer:{marginTop:"10px",width:"40px",height:"40px",borderRadius:"40px",border:"2px solid #e6e5e8",display:"flex",alignItems:"center",justifyContent:"center"}},rt=function(){return Object(Qe.jsxs)("div",{className:"direct_calling_dialog background_secondary_color",children:[Object(Qe.jsx)("span",{children:"Calling"}),Object(Qe.jsx)("div",{style:ct.buttonContainer,onClick:function(){Ee()},children:Object(Qe.jsx)(at.a,{style:{width:"20px",height:"20px",fill:"#e6e5e8"}})})]})},ot={button:{width:"50px",height:"50px",borderRadius:"40px",border:"2px solid #e6e5e8",textDecoration:"none",backgroundColor:"#282C34",display:"flex",alignItems:"center",justifyContent:"center",marginLeft:"10px",boxShadow:"none",borderImage:"none",borderStyle:"none",borderWidth:"0px",outline:"none"}},it=function(e){var t=e.onClickHandler;return Object(Qe.jsx)("button",{style:ot.button,onClick:t,children:e.children})},lt={buttonContainer:{display:"flex",position:"absolute",bottom:"22%",left:"35%"},icon:{width:"25px",height:"25px",fill:"#e6e5e8"}},st=function(e){var t=e.localStream,n=e.localCameraEnabled,a=e.localMicrophoneEnabled,c=e.setCameraEnabled,r=e.setMicrophoneEnabled,o=e.screenSharingActive,i=e.groupCall;return Object(Qe.jsxs)("div",{style:lt.buttonContainer,children:[Object(Qe.jsx)(it,{onClickHandler:function(){var e=a;t.getAudioTracks()[0].enabled=!e,r(!e)},children:a?Object(Qe.jsx)(at.c,{style:lt.icon}):Object(Qe.jsx)(at.d,{style:lt.icon})}),!i&&Object(Qe.jsx)(it,{onClickHandler:function(){Ee()},children:Object(Qe.jsx)(at.a,{style:lt.icon})}),Object(Qe.jsx)(it,{onClickHandler:function(){var e=n;t.getVideoTracks()[0].enabled=!e,c(!e)},children:n?Object(Qe.jsx)(at.f,{style:lt.icon}):Object(Qe.jsx)(at.g,{style:lt.icon})}),!i&&Object(Qe.jsx)(it,{onClickHandler:function(){Ce()},children:o?Object(Qe.jsx)(at.b,{style:lt.icon}):Object(Qe.jsx)(at.e,{style:lt.icon})})]})},ut=function(e){return Object(Qe.jsx)("div",{className:"message_displayer",children:e.message})},dt=(n(115),function(e){var t=e.message,n=e.setDirectCallMessage,a=Object(d.useState)(""),c=Object(ie.a)(a,2),o=c[0],i=c[1];return Object(d.useEffect)((function(){t.received&&setTimeout((function(){n(!1,"")}),[3e3])}),[t.received]),Object(Qe.jsxs)(Qe.Fragment,{children:[Object(Qe.jsx)("input",{className:"messages_input",type:"text",value:o,onChange:function(e){i(e.target.value)},onKeyDown:function(e){13===e.keyCode&&(!function(e){r.send(e)}(o),i(""))},placeholder:"Type your message"}),t.received&&Object(Qe.jsx)(ut,{message:t.content})]})});var bt=Object(m.b)((function(e){var t=e.call;return Object(p.a)({},t)}),(function(e){return{hideCallRejectedDialog:function(t){return e(G(t))},setCameraEnabled:function(t){return e(J(t))},setMicrophoneEnabled:function(t){return e(F(t))},setDirectCallMessage:function(t,n){return e(Q(t,n))}}}))((function(e){var t=e.localStream,n=e.remoteStream,a=e.callState,c=e.callerUsername,r=e.callingDialogVisible,o=e.callRejected,i=e.hideCallRejectedDialog,l=e.setDirectCallMessage,s=e.message;return Object(Qe.jsxs)(Qe.Fragment,{children:[Object(Qe.jsx)(Ze,{localStream:t}),n&&a===E&&Object(Qe.jsx)(et,{remoteStream:n}),o.rejected&&Object(Qe.jsx)(tt,{reason:o.reason,hideCallRejectedDialog:i}),a===C&&Object(Qe.jsx)(nt,{callerUsername:c}),r&&Object(Qe.jsx)(rt,{}),n&&a===E&&Object(Qe.jsx)(st,Object(p.a)({},e)),n&&a===E&&Object(Qe.jsx)(dt,{message:s,setDirectCallMessage:l})]})})),jt=(n(116),function(e){var t=e.username;return Object(Qe.jsxs)("div",{className:"dashboard_info_text_container",children:[Object(Qe.jsxs)("span",{className:"dashboard_info_text_title",children:["Hello ",t," welcome in VideoTalker."]}),Object(Qe.jsx)("span",{className:"dashboard_info_text_description",children:"You can start a call calling directy to a person from the list or you can create or join group call."})]})}),ft=function(e){var t=e.room;return Object(Qe.jsx)("div",{onClick:function(){!function(e,t){var n=$.getState().call.localStream;s=t,Ge({peerId:l,hostSocketId:e,roomId:t,localStreamId:n.id}),$.dispatch(W(!0)),$.dispatch(H(E))}(t.socketId,t.roomId)},className:"group_calls_list_item background_main_color",children:Object(Qe.jsx)("span",{children:t.hostName})})},mt=(n(117),Object(m.b)((function(e){var t=e.dashboard;return Object(p.a)({},t)}))((function(e){var t=e.groupCallRooms;return Object(Qe.jsx)(Qe.Fragment,{children:t.map((function(e){return Object(Qe.jsx)(ft,{room:e},e.roomId)}))})}))),gt=(n(118),function(e){var t=e.onClickHandler,n=e.label;return Object(Qe.jsx)("button",{onClick:t,className:"group_call_button",children:n})}),pt=(n(119),{videoContainer:{width:"300px",height:"300px"},videoElement:{width:"100%",height:"100%"}}),ht=function(e){var t=e.stream,n=Object(d.useRef)();return Object(d.useEffect)((function(){var e=n.current;e.srcObject=t,e.onloadedmetadata=function(){e.play()}}),[t]),Object(Qe.jsx)("div",{style:pt.videoContainer,children:Object(Qe.jsx)("video",{ref:n,autoPlay:!0,style:pt.videoElement})})},Ot=function(e){var t=e.groupCallStreams;return Object(Qe.jsxs)("div",{className:"group_call_room_container",children:[Object(Qe.jsx)("span",{className:"group_call_title",children:"Group Call"}),Object(Qe.jsx)("div",{className:"group_call_videos_container",children:t.map((function(e){return Object(Qe.jsx)(ht,{stream:e},e.id)}))}),Object(Qe.jsx)(st,Object(p.a)(Object(p.a)({},e),{},{groupCall:!0}))]})},vt=Object(m.b)((function(e){var t=e.call;return Object(p.a)({},t)}),(function(e){return{setCameraEnabled:function(t){return e(J(t))},setMicrophoneEnabled:function(t){return e(F(t))}}}))((function(e){var t=e.callState,n=e.localStream,a=e.groupCallActive;e.groupCallStreams;return Object(Qe.jsxs)(Qe.Fragment,{children:[!a&&n&&t!==E&&Object(Qe.jsx)(gt,{onClickHandler:function(){ye=!0,Be({username:$.getState().dashboard.username,peerId:l}),$.dispatch(W(!0)),$.dispatch(H(E))},label:"Create room"}),a&&Object(Qe.jsx)(Ot,Object(p.a)({},e)),a&&Object(Qe.jsx)(gt,{onClickHandler:function(){ye?Je({peerId:l}):Fe({streamId:$.getState().call.localStream.id,roomId:s}),Te()},label:"Leave room"})]})})),_t=n(69),xt=n.n(_t),St=(n(137),Object(m.b)((function(e){var t=e.call,n=e.dashboard;return Object(p.a)(Object(p.a)({},t),n)}))((function(e){var t=e.username,n=e.callState;return Object(d.useEffect)((function(){xt.a.get("https://videotalkerserver.herokuapp.com/api/get-turn-credentials").then((function(e){var t;console.log(e),t=e.data.token.iceServers,ue=t,ge(),Le()})).catch((function(e){console.log(e)}))}),[]),Object(Qe.jsxs)("div",{className:"dashboard_container background_main_color",children:[Object(Qe.jsxs)("div",{className:"dashboard_left_section",children:[Object(Qe.jsxs)("div",{className:"dashboard_content_container",children:[Object(Qe.jsx)(bt,{}),Object(Qe.jsx)(vt,{}),n!==E&&Object(Qe.jsx)(jt,{username:t})]}),Object(Qe.jsx)("div",{className:"dashboard_rooms_container background_secondary_color",children:Object(Qe.jsx)(mt,{})})]}),Object(Qe.jsxs)("div",{className:"dashboard_right_section background_secondary_color",children:[Object(Qe.jsx)("div",{className:"dashboard_active_users_list",children:Object(Qe.jsx)(ze,{})}),Object(Qe.jsx)("div",{className:"dashboard_logo_container",children:Object(Qe.jsx)("img",{className:"dashboard_logo_image",src:We})})]})]})}))),Ct=function(e){var t=e.username,n=e.setUsername;return Object(Qe.jsx)("div",{className:"login-page_input_container",children:Object(Qe.jsx)("input",{placeholder:"Enter your name",type:"text",value:t,onChange:function(e){n(e.target.value)},className:"login-page_input background_main_color text_main_color"})})},Et=function(e){var t=e.handleSubmitButtonPressed;return Object(Qe.jsx)("div",{className:"login-page_button_container",children:Object(Qe.jsx)("button",{className:"login-page_button background_main_color text_main_color",onClick:t,children:"Start using VideoTalker"})})},kt=(n(138),Object(m.b)(null,(function(e){return{saveUsername:function(t){return e(function(e){return{type:h,username:e}}(t))}}}))((function(e){var t=e.saveUsername,n=Object(d.useState)(""),a=Object(ie.a)(n,2),c=a[0],r=a[1],o=Object(te.f)();return Object(Qe.jsx)("div",{className:"login-page_container background_main_color",children:Object(Qe.jsxs)("div",{className:"login-page_login_box background_secondary_color",children:[Object(Qe.jsx)("div",{className:"login-page_logo_container",children:Object(Qe.jsx)("img",{className:"login-page_logo_image",src:We,alt:"VideoTalker"})}),Object(Qe.jsx)("div",{className:"login-page_title_container",children:Object(Qe.jsx)("h2",{children:"Get on Board"})}),Object(Qe.jsx)(Ct,{username:c,setUsername:r}),Object(Qe.jsx)(Et,{handleSubmitButtonPressed:function(){!function(e){u.emit("register-new-user",{username:e,socketId:u.id})}(c),t(c),o.push("/dashboard")}})]})})})));var At=function(){return Object(d.useEffect)((function(){Ie()}),[]),Object(Qe.jsx)(ee.a,{children:Object(Qe.jsxs)(te.c,{children:[Object(Qe.jsx)(te.a,{path:"/dashboard",children:Object(Qe.jsx)(St,{})}),Object(Qe.jsx)(te.a,{path:"/",children:Object(Qe.jsx)(kt,{})})]})})};n(142);f.a.render(Object(Qe.jsx)(b.a.StrictMode,{children:Object(Qe.jsx)(m.a,{store:$,children:Object(Qe.jsx)(At,{})})}),document.getElementById("root"))},79:function(e,t,n){}},[[143,1,2]]]);
//# sourceMappingURL=main.d7ce14bd.chunk.js.map
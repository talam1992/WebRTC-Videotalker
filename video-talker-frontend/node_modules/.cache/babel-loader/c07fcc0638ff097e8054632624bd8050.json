{"ast":null,"code":"import store from '../../store/store';\nimport { callStates, setCallState, setLocalStream } from \"../../store/actions/callActions\";\nconst defaultConstrains = {\n  video: true,\n  audio: true\n};\nexport const getLocalStream = () => {\n  navigator.mediaDevices.getUserMedia(defaultConstrains).then(stream => {\n    store.dispatch(setLocalStream(stream));\n    store.dispatch(setCallState(callStates.CALL_AVAILABLE));\n  }).catch(err => {\n    console.log('error occured when trying to get access to get local stream');\n    console.log(err);\n  });\n};","map":{"version":3,"sources":["C:/Users/Timothy Lam/Documents/GitHub/WebRTC-Videotalker/video-talker-frontend/src/utils/webRTC/webRTCHandler.js"],"names":["store","callStates","setCallState","setLocalStream","defaultConstrains","video","audio","getLocalStream","navigator","mediaDevices","getUserMedia","then","stream","dispatch","CALL_AVAILABLE","catch","err","console","log"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,mBAAlB;AACA,SAASC,UAAT,EAAqBC,YAArB,EAAmCC,cAAnC,QAAyD,iCAAzD;AAEA,MAAMC,iBAAiB,GAAG;AACtBC,EAAAA,KAAK,EAAE,IADe;AAEtBC,EAAAA,KAAK,EAAE;AAFe,CAA1B;AAKA,OAAO,MAAMC,cAAc,GAAG,MAAM;AAChCC,EAAAA,SAAS,CAACC,YAAV,CAAuBC,YAAvB,CAAoCN,iBAApC,EACCO,IADD,CACMC,MAAM,IAAI;AACZZ,IAAAA,KAAK,CAACa,QAAN,CAAeV,cAAc,CAACS,MAAD,CAA7B;AACAZ,IAAAA,KAAK,CAACa,QAAN,CAAeX,YAAY,CAACD,UAAU,CAACa,cAAZ,CAA3B;AACH,GAJD,EAKCC,KALD,CAKOC,GAAG,IAAI;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAY,6DAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,GARD;AASH,CAVM","sourcesContent":["import store from '../../store/store';\r\nimport { callStates, setCallState, setLocalStream } from \"../../store/actions/callActions\";\r\n\r\nconst defaultConstrains = {\r\n    video: true,\r\n    audio: true\r\n};\r\n\r\nexport const getLocalStream = () => {\r\n    navigator.mediaDevices.getUserMedia(defaultConstrains)\r\n    .then(stream => {\r\n        store.dispatch(setLocalStream(stream));\r\n        store.dispatch(setCallState(callStates.CALL_AVAILABLE));\r\n    })\r\n    .catch(err => {\r\n        console.log('error occured when trying to get access to get local stream');\r\n        console.log(err);\r\n    });\r\n}\r\n;"]},"metadata":{},"sourceType":"module"}